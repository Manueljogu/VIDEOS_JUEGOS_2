<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Video Juegos</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="css/style.css">
    <link rel="icon" type="image/png" href="/img/LogoVector.svg">
  </head>
  <body>
    <nav class="navbar navbar-expand-lg bg-body-tertiary">
        <div class="container-fluid">
          <a class="navbar-brand" href="#">
            <img src="/img/LogoVector.svg" width="60" alt="">
            <strong>Video Juegos</strong>
        </a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav me-auto mb-2 mb-lg-0">
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="index.html">Volver</a>
              </li>

          </div>
        </div>
      </nav>

      <div class="container">
    <h1 class="text-center">Formulario de Registro</h1>
    <div class="row justify-content-center align-items-center">
        
            <div class="card">
                <div class="card-body text-center">
                    <form id="formulario_registro" action="">
                      <div class="mb-3">
                        <label for="" class="form-label">Nombre Completo</label>
                        <input type="text" class="form-control" name="nombre" id="nombre">
                        <small class="text-danger" id="nombre-error"></small>
                      </div>

                      <div class="mb-3">
                        <label for="" class="form-label">Fecha de Nacimiento</label>
                        <input type="date" class="form-control" name="fechanacimiento" id="fechanacimiento">
                        <small class="text-danger" id="fechanacimiento-error"></small>
                      </div>

                      <div class="mb-3">
                        <label for="" class="form-label">Dirección</label>
                        <input type="text" class="form-control" name="direccion" id="direccion">
                        <small class="text-danger" id="direccion-error"></small>
                      </div>

                      <div class="mb-3">
                        <label for="" class="form-label">Email</label>
                        <input type="email" class="form-control" name="email" id="email">
                        <small class="text-danger" id="email-error"></small>
                      </div>

                      <div class="mb-3">
                        <label for="" class="form-label">Username</label>
                        <input type="text" class="form-control" name="username" id="username">
                        <small class="text-danger" id="username-error"></small>
                      </div>

                      <div class="mb-3">
                        <label for="" class="form-label">Contraseña</label>
                        <input type="password" class="form-control" name="clave" id="clave">
                        <small class="text-danger" id="clave-error"></small>
                      </div>
                      
                      <div class="mb-3">
                        <label for="" class="form-label">Repetir Contraseña</label>
                        <input type="password" class="form-control" name="clave-repetida" id="clave-repetida">
                        <small class="text-danger" id="clave-repetida-error"></small>
                      </div>
                      

                      <div class="mb-3">
                        <label for="" class="form-label">Información Adicional</label>
                        <textarea name="informacionadcional" id="informacionadcional" class="form-control" cols="10" rows="5"></textarea>
                        <small class="text-danger" id="informacionadicional-error"></small>
                      </div>

                      <div class="d-grid">
                        <button type="submit" class="btn btn-primary">Guardar</button>
                        <br>
                        <button type="reset" class="btn btn-primary">Limpiar</button>


                      </div>
                     </form> 
                    </div>
                  </div>
            </div>
        </div>
      </div>


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>

    <script src="js/jquery-3.7.1.min.js"></script>


    <script>
      $(document).ready(function() {
         $('#formulario_registro').submit(function(evento) {
              evento.preventDefault();
    
              $('#nombre-error').text('');
              $('#fechanacimiento-error').text('');
              $('#email-error').text('');
              $('#username-error').text('');
              $('#clave-error').text('');
              $('#clave-repetida-error').text('');
    
              if($('#nombre').val() === '') {
                  $('#nombre-error').text('Por favor, ingrese un nombre válido');
                  return;
              }
    
              if($('#fechanacimiento').val() === '') {
              $('#fechanacimiento-error').text('Por favor, ingrese una fecha válida');
              return;
          }

          // Calcular la edad a partir de la fecha de nacimiento
          var fechaNacimiento = new Date($('#fechanacimiento').val());
          var hoy = new Date();
          var edad = hoy.getFullYear() - fechaNacimiento.getFullYear();
          var mes = hoy.getMonth() - fechaNacimiento.getMonth();
          if (mes < 0 || (mes === 0 && hoy.getDate() < fechaNacimiento.getDate())) {
              edad--;
          }

          // Verificar si la edad es menor de 13 años
          if (edad < 13) {
              $('#fechanacimiento-error').text('Debe ser mayor de 13 años para registrarse');
              return;
          }
    
              // Validar contraseña
              var clave = $('#clave').val();
              var claveRepetida = $('#clave-repetida').val();
    
              if (clave === '') {
                  $('#clave-error').text('Por favor, ingrese una clave válida');
                  return;
              }
    
              if (clave !== claveRepetida) {
                  $('#clave-repetida-error').text('Las contraseñas no coinciden');
                  return;
              }
    
              if (!/^(?=.*\d)(?=.*[A-Z]).{6,18}$/.test(clave)) {
                  $('#clave-error').text('La contraseña debe contener al menos un número, una letra en mayúscula y tener entre 6 y 18 caracteres');
                  return;
              }
    
              if($('#email').val() === '') {
                  $('#email-error').text('Por favor, ingrese un email válido');
                  return;
              }
    
              if($('#username').val() === '') {
                  $('#username-error').text('Por favor, ingrese un username válido');
                  return;
              }
        
              this.submit();
    
         });
      });
    </script>
    
</body>
</html>